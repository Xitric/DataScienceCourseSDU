<div id="graphContainer">
    <!--Filter pane-->
    <form id="filterArea" action="scatter/submit" method="get">
        <div class="containerState" >
            <input type="submit" value="Calculate Clusters" onclick="submitForm"/>
            <div id="state">{{state}}</div>
        </div>
        <h2>Service categories</h2>
        <div class="filterForm">
            {{#each (getCategories (getIndex (getIndex data 0) 0))}}
                <label>
                    <input name="services" value="{{this}}" type="checkbox" onchange="serviceFilterChanged(this)"/>
                    {{this}}
                </label>
            {{/each}}
        </div>

        <h2>Incident categories</h2>
        <div class="filterForm">
            {{#each (getCategories (getIndex (getIndex data 1) 0))}}
                <label>
                    <input name="incidents" value="{{this}}" type="checkbox" onchange="incidentFilterChanged(this)"/>
                    {{this}}
                </label>
            {{/each}}
        </div>
    </form>

    <div class="innerContainerCorr">
        
        <table id="correlation">
            <thead>
                <th>Correlation</th>
            </thead>
            <tbody>
                {{#each (formatCorr (getIndex data 2))}}
                    <tr>
                        {{#each this}}
                            <td>{{this}}</td>
                        {{/each}}
                    </tr>
                {{/each}}
            </tbody>
        </table>
        <!--Graph-->
        <div id="graphArea"></div>
    </div>
    <script id="graph" src='/scripts/{{script}}.js'>{{{jsonStringify data}}}</script>
</div>